<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ME 507 Ball and Rail Control: DoxygenFiles/hacks.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ME 507 Ball and Rail Control
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">An RTOS environment was created to control a ball on a rotating beam by using a full state feedback control algorithm.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_eeffde2e463314230abef71e178b21f2.html">DoxygenFiles</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">hacks.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Header for extras to make the GCC compiler work on our microcontrollers.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
</div>
<p><a href="hacks_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a205ed048fdf5259c2e8e0cb60ee8f719"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hacks_8h.html#a205ed048fdf5259c2e8e0cb60ee8f719">operator new</a> (size_t size)</td></tr>
<tr class="memdesc:a205ed048fdf5259c2e8e0cb60ee8f719"><td class="mdescLeft">&#160;</td><td class="mdescRight">FreeRTOS version of the C++ memory allocation operator.  <a href="#a205ed048fdf5259c2e8e0cb60ee8f719">More...</a><br /></td></tr>
<tr class="separator:a205ed048fdf5259c2e8e0cb60ee8f719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d97a7e2a0208075b4b37328c96ed390"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hacks_8h.html#a3d97a7e2a0208075b4b37328c96ed390">operator delete</a> (void *ptr)</td></tr>
<tr class="memdesc:a3d97a7e2a0208075b4b37328c96ed390"><td class="mdescLeft">&#160;</td><td class="mdescRight">FreeRTOS version of the C++ memory deallocation operator.  <a href="#a3d97a7e2a0208075b4b37328c96ed390">More...</a><br /></td></tr>
<tr class="separator:a3d97a7e2a0208075b4b37328c96ed390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63ce4f64887b9307317aee5baae6b18f"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hacks_8h.html#a63ce4f64887b9307317aee5baae6b18f">operator new[]</a> (size_t size)</td></tr>
<tr class="memdesc:a63ce4f64887b9307317aee5baae6b18f"><td class="mdescLeft">&#160;</td><td class="mdescRight">FreeRTOS version of the C++ array memory allocation operator.  <a href="#a63ce4f64887b9307317aee5baae6b18f">More...</a><br /></td></tr>
<tr class="separator:a63ce4f64887b9307317aee5baae6b18f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d8b2d6f17242ae0d182b0f7a98ba54f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hacks_8h.html#a1d8b2d6f17242ae0d182b0f7a98ba54f">operator delete[]</a> (void *ptr)</td></tr>
<tr class="memdesc:a1d8b2d6f17242ae0d182b0f7a98ba54f"><td class="mdescLeft">&#160;</td><td class="mdescRight">FreeRTOS version of the C++ array memory deallocation operator.  <a href="#a1d8b2d6f17242ae0d182b0f7a98ba54f">More...</a><br /></td></tr>
<tr class="separator:a1d8b2d6f17242ae0d182b0f7a98ba54f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5aa60072f4063655d5283b6d7b7ab44"><td class="memItemLeft" align="right" valign="top">__extension__ typedef int __guard&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hacks_8h.html#aa5aa60072f4063655d5283b6d7b7ab44">__attribute__</a> ((mode(__DI__)))</td></tr>
<tr class="separator:aa5aa60072f4063655d5283b6d7b7ab44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a239ddd7f6e7ee1b05b59b2e56d8afb40"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hacks_8h.html#a239ddd7f6e7ee1b05b59b2e56d8afb40">__cxa_guard_acquire</a> (__guard *)</td></tr>
<tr class="memdesc:a239ddd7f6e7ee1b05b59b2e56d8afb40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility function for virtual methods.  <a href="#a239ddd7f6e7ee1b05b59b2e56d8afb40">More...</a><br /></td></tr>
<tr class="separator:a239ddd7f6e7ee1b05b59b2e56d8afb40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab72c37f0b3e6fc38d293bd4f8dd61ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hacks_8h.html#aab72c37f0b3e6fc38d293bd4f8dd61ed">__cxa_guard_release</a> (__guard *)</td></tr>
<tr class="memdesc:aab72c37f0b3e6fc38d293bd4f8dd61ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility function for virtual methods.  <a href="#aab72c37f0b3e6fc38d293bd4f8dd61ed">More...</a><br /></td></tr>
<tr class="separator:aab72c37f0b3e6fc38d293bd4f8dd61ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a357afb2dc20a652447f3a529dbda60e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hacks_8h.html#a357afb2dc20a652447f3a529dbda60e4">__cxa_guard_abort</a> (__guard *)</td></tr>
<tr class="memdesc:a357afb2dc20a652447f3a529dbda60e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility function for virtual methods.  <a href="#a357afb2dc20a652447f3a529dbda60e4">More...</a><br /></td></tr>
<tr class="separator:a357afb2dc20a652447f3a529dbda60e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4464d4205cf92370b8d5077d93bc48a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hacks_8h.html#a4464d4205cf92370b8d5077d93bc48a6">__cxa_pure_virtual</a> (void)</td></tr>
<tr class="memdesc:a4464d4205cf92370b8d5077d93bc48a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stub function for virtual methods, maybe.  <a href="#a4464d4205cf92370b8d5077d93bc48a6">More...</a><br /></td></tr>
<tr class="separator:a4464d4205cf92370b8d5077d93bc48a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header for extras to make the GCC compiler work on our microcontrollers. </p>
<p>This file contains a set of enhancements to the GCC system for our embedded processors which support some of the more helpful C++ features that aren't present or working well in the normal GCC distribution (though I have no idea why). Some information used here came from an AVR-Freaks posting at: </p><ul>
<li><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&file=viewtopic&p=410870">http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=viewtopic&amp;p=410870</a> <pre class="fragment">Other stuff is added to streamline the connection between the ME405 
library and FreeRTOS. Of particular importance are FreeRTOS versions of 
@c new and @c delete.
</pre></li>
</ul>
<p>Revisions </p><ul>
<li>04-12-2008 JRR Original file, material from source above </li>
<li>09-30-2012 JRR Added code to make memory allocation work with FreeRTOS </li>
<li>08-05-2014 JRR Ported to allow use with GCC for STM32 as well as AVR</li>
</ul>
<p>License: This file is copyright 2012 by JR Ridgely and released under the Lesser GNU Public License, version 2. It intended for educational use only, but its use is not limited thereto. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aa5aa60072f4063655d5283b6d7b7ab44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5aa60072f4063655d5283b6d7b7ab44">&#9670;&nbsp;</a></span>__attribute__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__extension__ typedef int __guard __attribute__ </td>
          <td>(</td>
          <td class="paramtype">(mode(__DI__))&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function like thing is used to help make templates and virtual methods work. How it does this is entirely unknown to the author, but the Internet said to put this here, and who would question the wisdom of the Web? Also, it works. </p><dl class="section return"><dt>Returns</dt><dd>Something appears to be returned by this strange function-like thing, but it's hard to figure out what it is </dd></dl>

</div>
</div>
<a id="a357afb2dc20a652447f3a529dbda60e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a357afb2dc20a652447f3a529dbda60e4">&#9670;&nbsp;</a></span>__cxa_guard_abort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __cxa_guard_abort </td>
          <td>(</td>
          <td class="paramtype">__guard *&#160;</td>
          <td class="paramname"><em>g</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Utility function for virtual methods. </p>
<p>This function is used to help make templates and virtual methods work. The author isn't sure exactly how it works, but the Interwebs seem to have half a clue. Information about this and related functions can be found at <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&file=printview&t=57466&start=0">http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=printview&amp;t=57466&amp;start=0</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">g</td><td>A pointer to some random thing </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a239ddd7f6e7ee1b05b59b2e56d8afb40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a239ddd7f6e7ee1b05b59b2e56d8afb40">&#9670;&nbsp;</a></span>__cxa_guard_acquire()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __cxa_guard_acquire </td>
          <td>(</td>
          <td class="paramtype">__guard *&#160;</td>
          <td class="paramname"><em>g</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Utility function for virtual methods. </p>
<p>This function is used to help make templates and virtual methods work. The author isn't sure exactly how it works, but the Interwebs seem to have half a clue. Information about this and related functions can be found at <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&file=printview&t=57466&start=0">http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=printview&amp;t=57466&amp;start=0</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">g</td><td>A pointer to some random thing </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Something that's pointed to by g </dd></dl>

</div>
</div>
<a id="aab72c37f0b3e6fc38d293bd4f8dd61ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab72c37f0b3e6fc38d293bd4f8dd61ed">&#9670;&nbsp;</a></span>__cxa_guard_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __cxa_guard_release </td>
          <td>(</td>
          <td class="paramtype">__guard *&#160;</td>
          <td class="paramname"><em>g</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Utility function for virtual methods. </p>
<p>This function is used to help make templates and virtual methods work. The author isn't sure exactly how it works, but the Interwebs seem to have half a clue. Information about this and related functions can be found at <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&file=printview&t=57466&start=0">http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=printview&amp;t=57466&amp;start=0</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">g</td><td>A pointer to some random thing </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4464d4205cf92370b8d5077d93bc48a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4464d4205cf92370b8d5077d93bc48a6">&#9670;&nbsp;</a></span>__cxa_pure_virtual()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __cxa_pure_virtual </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stub function for virtual methods, maybe. </p>
<p>This function seems to be used to help make pure virtual methods work. The author isn't sure exactly how it works (OK, clueless), but it might be a function that fills in for the body of a pure virtual method, <em>i.e</em>. a method which doesn't have any body in the regular source files. Or maybe it's a secret note from space aliens, who knows. Information about this and related functions can be found at <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&file=printview&t=57466&start=0">http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=printview&amp;t=57466&amp;start=0</a> </p>

</div>
</div>
<a id="a3d97a7e2a0208075b4b37328c96ed390"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d97a7e2a0208075b4b37328c96ed390">&#9670;&nbsp;</a></span>operator delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operator delete </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FreeRTOS version of the C++ memory deallocation operator. </p>
<p>This is the standard "delete" operator, defined as a replacement for the one which has been left out of the avr-libc library. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>A pointer to the object which is to be deleted from memory</td></tr>
  </table>
  </dd>
</dl>
<p>This operator maps <code>delete</code> to the FreeRTOS memory deallocation function, which is configurable and thread safe. Note that memory deallocation is only possible when using some (not all) versions of the memory allocator in FreeRTOS; for example, <code>heap_1.c</code> doesn't implement deallocation at all. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>A pointer to the object whose contents are to be deleted </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1d8b2d6f17242ae0d182b0f7a98ba54f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d8b2d6f17242ae0d182b0f7a98ba54f">&#9670;&nbsp;</a></span>operator delete[]()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operator delete[] </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FreeRTOS version of the C++ array memory deallocation operator. </p>
<p>This is the array form of the standard "delete" operator. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>A pointer to the object which is to be deleted from memory</td></tr>
  </table>
  </dd>
</dl>
<p>This operator maps the array version of <code>delete</code> to the FreeRTOS memory deallocation function, which is configurable and thread safe. Note that memory deallocation is only possible when using some (not all) versions of the memory allocator in FreeRTOS; for example, <code>heap_1.c</code> doesn't allow deallocation at all. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>A pointer to the memory area whose contents are to be deleted </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a205ed048fdf5259c2e8e0cb60ee8f719"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a205ed048fdf5259c2e8e0cb60ee8f719">&#9670;&nbsp;</a></span>operator new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* operator new </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FreeRTOS version of the C++ memory allocation operator. </p>
<p>This is the standard "new" operator, defined here because it's not available in the standard avr-libc library. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>The number of bytes of memory which need to be allocated</td></tr>
  </table>
  </dd>
</dl>
<p>This operator maps <code>new</code> to the FreeRTOS memory allocation function, which is configurable and thread safe, because the regular <code>malloc()</code> shouldn't be used in a FreeRTOS program. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>The number of bytes which are to be allocated </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the memory area which has just been allocated </dd></dl>

</div>
</div>
<a id="a63ce4f64887b9307317aee5baae6b18f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63ce4f64887b9307317aee5baae6b18f">&#9670;&nbsp;</a></span>operator new[]()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* operator new[] </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FreeRTOS version of the C++ array memory allocation operator. </p>
<p>This is the array form of the standard "new" operator. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>The total number of bytes of memory which need to be allocated</td></tr>
  </table>
  </dd>
</dl>
<p>This operator maps the array version of <code>new</code> to the FreeRTOS memory allocation function, which is configurable and thread safe, because the regular <code>malloc()</code> shouldn't be used in a FreeRTOS program. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>The number of bytes which are to be allocated </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the memory area which has just been allocated </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
